.. _CID-985:

=============================================
Spike: Upgrade dependencies to support Java 8
=============================================

Description
-----------

Although Identity currently runs on a Java 8 JVM and is compiled as 8
target/source, Identity can not take advantage of Java 8 features due to Java 8
incompatibility with some 3rd party libraries we use. For example, the 'asm'
library  included with jersey 1.1.5 (and apparently jersey 1.1.5 itself), cglib
2.2, and maybe others do not support Java 8  (see
http://product.hubspot.com/blog/upgrading-to-java-8-at-scale)

If Java 8 features are used, the application will compile, but integration tests
will fail and it will not work as a deployed application. However, this is
inconsistent. There is one place in the current application that is using Java 8
streams https://github.rackspace.com/cloud-identity-dev/cloud-identity/blob/v3.17.x/src/main/java/com/rackspace/idm/domain/service/impl/DefaultTenantService.java#L496). However, when streams were used in other parts
of the app, it failed due to incompatibility. It therefore appears hit or miss
depending on how the 3rd party libraries interact with that part of the code.

The goal of this story is to determine what upgrades are necessary in order to allow
Java 8 features to be used within Identity.

Business Acceptance Criteria
----------------------------
1. Determine all libraries that will need to be upgraded in order to fully support
   Java 8
2. Provide preliminary LOE for implementing these changes

Test Acceptance Criteria
------------------------
TBD